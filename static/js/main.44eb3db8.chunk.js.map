{"version":3,"sources":["components/Auth.js","contexts/CurrentUserContext.js","components/Card.js","images/header-logo.svg","components/Header.js","components/Main.js","components/Footer.js","components/Input.js","components/PopupWithForm.js","components/PopupEditProfile.js","components/PopupEditAvatar.js","components/PopupAddPlace.js","components/ImagePopup.js","utils/Api.js","components/Login.js","images/unsucces.jpg","components/InfoTooltip.js","images/succes.jpg","components/Register.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","checkResponse","res","ok","json","Promise","reject","status","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","delBtnClass","isLiked","likes","some","like","likeBtnClass","className","onClick","src","link","alt","name","length","Header","signOut","to","placeholder","login","headerLogo","Main","loggedIn","cards","onEditAvatar","onEditProfile","onAddPlace","avatar","type","about","map","Footer","Input","value","id","onChange","inputRef","defaultValue","ref","PopupWithForm","classText","isOpen","onClose","header","children","submitBtnText","onSubmit","PopupEditProfile","onUpdateUser","useState","setName","setAbout","useEffect","e","preventDefault","target","PopupEditAvatar","onUpdateAvatar","avatarInput","useRef","current","PopupAddPlace","nameInput","linkInput","ImagePopup","newApi","options","this","_url","url","_headers","headers","fetch","method","then","_checkResponse","user","body","JSON","stringify","data","_cardId","authorization","withRouter","handleLogin","history","useHistory","email","setEmail","password","setPassword","auth","token","localStorage","setItem","push","InfoToolTip","confirmReg","style","display","flexDirection","justifyContent","unSuccesImg","open","setIsOpen","regOk","setRegOK","setTimeout","ProtectedRoute","Component","component","props","setCards","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","closeAllPopups","setLoggedIn","all","getUSerInfoFromServer","getCardsFromServer","catch","err","console","log","jwt","getItem","setLogin","Provider","path","removeItem","exact","changeLikeCardStatus","newCard","state","c","deleteCard","filter","cardsList","setUserInfo","postNewCard","editAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.44eb3db8.chunk.js","sourcesContent":["export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\n\r\nfunction checkResponse(res) {\r\n    if (res.ok) {\r\n        return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n}\r\n\r\nexport const register = (password, email) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n            password, email\r\n        })\r\n    })\r\n    /*         .then(checkResponse)\r\n            .catch((err) => console.log(err)); */\r\n}\r\n\r\n\r\nexport const login = (password, email) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            password, email\r\n        })\r\n    })\r\n        .then(checkResponse)\r\n}\r\n\r\n\r\n// получить JWT и имэил\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(checkResponse)\r\n        .then(data => data)\r\n}","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n\r\n\r\n","import React, { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\n\r\nexport function Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    // deletion btn class\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const delBtnClass = (\r\n        ` ${isOwn ? 'cards__delete' : 'cards__delete_hidden'}`\r\n    );\r\n\r\n    // like btn class\r\n    const isLiked = card.likes.some(like=>like._id === currentUser._id)\r\n    const likeBtnClass = (\r\n        `cards__like ${isLiked ? 'cards__like_active' : ''}`\r\n    )\r\n\r\n    return (\r\n        <>\r\n            <li\r\n                className=\"cards__item\">\r\n                <img className=\"cards__photo\" onClick={() => { onCardClick(card) }} src={card.link} alt={card.name} />\r\n                <p className=\"cards__place\">{card.name}</p>\r\n                <button className={delBtnClass} onClick={()=>{onCardDelete(card)}}></button>\r\n                <button className={likeBtnClass} onClick={() => { onCardLike(card)}}></button>\r\n                <p className=\"cards__quantity-likes\">{card.likes.length}</p>\r\n            </li>\r\n\r\n        </>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/header-logo.03b78ada.svg\";","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport headerLogo from \"../images/header-logo.svg\";\r\n\r\n\r\nexport function Header({ signOut, to, placeholder, login }) {\r\n\r\n\r\n\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={headerLogo} alt=\"логотип проекта Место\" />\r\n            <div className='header__login'>\r\n                <div className='header__email'>{login}</div>\r\n\r\n\r\n                <NavLink to={to} className=\"header__link\" onClick={signOut}>{placeholder}</NavLink>\r\n\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\n","import React, { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport { Card } from './Card.js';\r\nimport { Header } from './Header';\r\n\r\nexport function Main({ signOut, loggedIn, login, cards, onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete }) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    return (\r\n\r\n        <>\r\n            <Header to='/sign-in' loggedIn={loggedIn} login={login} placeholder='Выйти' signOut={signOut}></Header>\r\n            \r\n            <main>\r\n                <section className=\"profile\">\r\n                    <div className=\"profile__info\">\r\n                        <img className=\"profile__avatar\" src={currentUser.avatar} alt={currentUser.name} onClick={onEditAvatar} />\r\n                        <div className=\"profile__table\">\r\n                            <div className=\"profile__name\">{currentUser.name}</div>\r\n                            <button className=\"profile__edit\" onClick={onEditProfile} type=\"button\"></button>\r\n                            <div className=\"profile__job\">{currentUser.about}</div>\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"profile__add\" onClick={onAddPlace} type=\"button\"></button>\r\n                </section>\r\n                <section className=\"cards\">\r\n                    <ul className=\"cards__list\">\r\n                        {cards.map((card) => {\r\n                            return (\r\n                                <Card\r\n                                    onCardLike={onCardLike}\r\n                                    onCardClick={onCardClick}\r\n                                    onCardDelete={onCardDelete}\r\n                                    key={card._id}\r\n                                    card={card}\r\n                                />\r\n                            )\r\n                        })}\r\n                    </ul>\r\n                </section>\r\n            </main>\r\n        </>\r\n    )\r\n}\r\n","import React from \"react\";\r\n\r\nexport function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__caption\">© 2021 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport function Input({ value, className, placeholder, type, name, id, onChange, inputRef }) {\r\n\r\n\r\n\r\n    return (\r\n        <section className='popup__section'>\r\n            <input\r\n                defaultValue={value || ''} //ошибка в консоли, поэтому поставил defaultValue. вроде работает\r\n                className={className}\r\n                placeholder={placeholder}\r\n                type={type}\r\n                name={name}\r\n                id={id}\r\n                onChange={onChange}\r\n                ref={inputRef}\r\n            />\r\n        </section>\r\n    )\r\n\r\n}","\r\nexport function PopupWithForm({ classText, isOpen, onClose, header, name, children, submitBtnText, onSubmit }) {\r\n    return (\r\n        <>\r\n            <section className={`popup popup_${classText} ${isOpen && 'popup_visible'}`}>\r\n                <div className=\"popup__container\">\r\n                    <button onClick={onClose} className=\"popup__close\"></button>\r\n                    <h2 className=\"popup__header\">{header}</h2>\r\n                    <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\r\n                        {children}\r\n                        <button className=\"popup__submit\" type=\"submit\">{submitBtnText}</button>\r\n                    </form>\r\n                </div>\r\n            </section>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n","import React, { useState } from 'react';\r\nimport { Input } from \"./Input\";\r\nimport { PopupWithForm } from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nexport function PopupEditProfile({ onUpdateUser, onClose, isOpen }) {\r\n\r\n    const [name, setName] = useState('')\r\n    const [about, setAbout] = useState('')\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n\r\n        \r\n        setName(currentUser.name);\r\n        setAbout(currentUser.about);\r\n    }, [currentUser, isOpen]);\r\n\r\n    function changeName(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function changeAbout(e) {\r\n        setAbout(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onUpdateUser({\r\n            name,\r\n            about\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            onClose={onClose}\r\n            isOpen={isOpen}\r\n            classText='edit-profile'\r\n            name=\"editProfileForm\"\r\n            header='Редактировать профиль'\r\n            submitBtnText='Сохранить'\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <Input\r\n                value={name}\r\n                className='popup__input popup__input_name'\r\n                placeholder='Имя'\r\n                type=\"text\"\r\n                name='bio'\r\n                id='bio'\r\n                onChange={changeName}\r\n            />\r\n            <Input\r\n                value={about}\r\n                className='popup__input popup__input_job'\r\n                placeholder='Профессия'\r\n                type=\"text\"\r\n                name='job'\r\n                id='job'\r\n                onChange={changeAbout}\r\n            />\r\n        </PopupWithForm>\r\n    )\r\n}","import React, {useRef} from 'react';\r\nimport { PopupWithForm } from './PopupWithForm';\r\nimport { Input } from './Input';\r\n\r\nexport function PopupEditAvatar({ onClose, isOpen, onUpdateAvatar }) {\r\n\r\n    const avatarInput = useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        onUpdateAvatar({\r\n            avatar: avatarInput.current.value\r\n        })\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            onClose={onClose}\r\n            isOpen={isOpen}\r\n            classText='avatar'\r\n            name=\"editAvatar\"\r\n            header='Обновить аватар'\r\n            submitBtnText='Сохранить'\r\n            onSubmit={handleSubmit}\r\n            >\r\n            <Input\r\n                className='popup__input  popup__input_avatar popup__input_place'\r\n                placeholder='Ссылка на новый аватар'\r\n                type=\"url\"\r\n                name='avatar'\r\n                id='avatar'\r\n                inputRef={avatarInput}\r\n            />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\n","import React, { useRef } from 'react'\r\nimport { PopupWithForm } from './PopupWithForm';\r\nimport { Input } from './Input';\r\n\r\nexport function PopupAddPlace({onClose, isOpen, onAddPlace}) {\r\n\r\n    const nameInput = useRef();\r\n    const linkInput = useRef();\r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        onAddPlace({\r\n            name: nameInput.current.value,\r\n            link: linkInput.current.value\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <PopupWithForm\r\n            onClose={onClose}\r\n            isOpen={isOpen}\r\n            classText='add-card'\r\n            name=\"addCardForm\"\r\n            header='Новое место'\r\n            submitBtnText='Создать'\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <Input\r\n                className='popup__input popup__input_add popup__input_place'\r\n                placeholder='Название'\r\n                type=\"text\"\r\n                name='place'\r\n                id='place'\r\n                inputRef={nameInput}\r\n            />\r\n            <Input\r\n                className='popup__input popup__input_add popup__input_link'\r\n                placeholder='Ссылка на картинку'\r\n                type=\"url\"\r\n                name='url'\r\n                id='url'\r\n                inputRef={linkInput}\r\n            />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* export function AddPlacePopup(props) {\r\n\r\n\r\n    return(\r\n        <>\r\n        <PopupWithForm name='place' isOpen={props.isOpen}/>\r\n        </>\r\n    )\r\n}\r\n */\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\n\r\n\r\nexport function ImagePopup ({card, onClose}) {\r\n    return (\r\n        <section\r\n        className={`popup popup_gallery ${card.link ? 'popup_visible' : ''}`}>\r\n        \r\n            <div className=\"popup__container popup__container_gallery\">\r\n                <button onClick={onClose} className=\"popup__close\"></button>\r\n                <img className=\"popup__image\" src={card.link} alt={card.name} />\r\n                <p className=\"popup__caption\">{card.name}</p>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\n","class Api {\r\n    constructor(options) {\r\n        this._url = options.url;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка ${res.status}`);\r\n    }\r\n\r\n\r\n    getCardsFromServer() {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: \"GET\",\r\n            headers: this._headers,\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n\r\n    getUSerInfoFromServer() {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: \"GET\",\r\n            headers: this._headers,\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n\r\n    setUserInfo(user) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: user.name,\r\n                about: user.about\r\n                \r\n            }),\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n    postNewCard(data) {\r\n\r\n        return fetch(`${this._url}/cards`, {\r\n            method: \"POST\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n\r\n                name: data.name,\r\n                link: data.link\r\n                \r\n            }),\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n\r\n\r\n    getCardInfo(card) {\r\n        return fetch(`${this._url}/cards/${card._cardId}`, {\r\n            method: \"GET\",\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n\r\n    deleteCard(card) {\r\n\r\n        return fetch(`${this._url}/cards/${card._id}`, {\r\n            method: \"DELETE\",\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    changeLikeCardStatus(card, isLiked) {\r\n        return fetch(`${this._url}/cards/likes/${card._id}`, {\r\n            method: (isLiked ? \"PUT\" : \"DELETE\"),\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse)\r\n\r\n    }\r\n\r\n/*     likeCard(card) {\r\n        return fetch(`${this._url}/cards/likes/${card._cardId}`, {\r\n            method: 'PUT',\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    disLikeCard(card) {\r\n        return fetch(`${this._url}/cards/likes/${card._cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse)\r\n    } */\r\n\r\n\r\n/*     getCountsOfLikes(card) {\r\n        return fetch(`${this._url}/cards/likes/${card._id}`, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse)\r\n    } */\r\n\r\n    editAvatar({avatar}) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: avatar\r\n            })\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const newApi = new Api({\r\n    url: \"https://nomoreparties.co/v1/cohort-22\",\r\n    headers: {\r\n        authorization: \"1ee4b4ce-cc80-4da8-ae23-ade464e5dd65\",\r\n        \"Content-Type\": \"application/json\",\r\n    },\r\n});\r\n\r\n","import { useState } from \"react\";\r\nimport { withRouter, useHistory } from 'react-router-dom';\r\n\r\nimport { Header } from './Header';\r\nimport * as auth from './Auth';\r\n\r\n\r\nexport function Login({ handleLogin, loggedIn, login }) {\r\n\r\n    const history = useHistory();\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    function handleChangeEmail(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handleChangePassword(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        auth.login(password, email)  //     L O G I N\r\n            .then((data) => {\r\n                if (data.token) {\r\n                    localStorage.setItem('token', data.token);\r\n                    \r\n                }\r\n            })\r\n            .then(() => {\r\n                handleLogin()\r\n                history.push('/')\r\n            })\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Header to='/sign-up' loggedIn={loggedIn} login={login} placeholder='Регистрация'></Header>\r\n            <section className='auth'>\r\n                <h2 className='auth__header'>Вход</h2>\r\n                <form className='auth__form' onSubmit={handleSubmit}>\r\n                    <input name='e-mail' className='auth__input' placeholder='E-mail' value={email} onChange={handleChangeEmail}></input>\r\n                    <input name='password' className='auth__input' placeholder='Пароль' value={password} onChange={handleChangePassword}></input>\r\n                    <button className='auth__submit'>Войти</button>\r\n                </form>\r\n            </section>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default withRouter(Login);","export default __webpack_public_path__ + \"static/media/unsucces.ba3097ce.jpg\";","import succesImg from '../images/succes.jpg'\r\nimport unSuccesImg from '../images/unsucces.jpg'\r\n\r\n\r\nexport function InfoToolTip({confirmReg, onClose, isOpen}) {\r\n\r\n\r\n    return (\r\n        <>\r\n            <section className={`popup ${isOpen ? 'popup_visible' : ''}`} >\r\n            \r\n                <div className=\"popup__container\">\r\n                    <button className=\"popup__close\" onClick={onClose}></button>\r\n                    <div style={{ display: `flex`, flexDirection: 'column', justifyContent: 'center' }}>\r\n                        <img className='auth__img' alt='auth__img' src={confirmReg ? succesImg : unSuccesImg} />\r\n                        <h2 className=\"popup__header popup__header_tooltip\">{confirmReg ? 'Вы успешно зарегистрировались' : 'Что-то пошло не так! Попробуйте ещё раз.'}</h2>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </>\r\n    )\r\n}","export default \"data:image/jpeg;base64,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\"","import { useState } from \"react\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport { InfoToolTip } from './InfoTooltip';\r\nimport { Header } from './Header';\r\nimport * as auth from './Auth';\r\n\r\nfunction Register({ loggedIn, login }) {\r\n\r\n    /* const history = useHistory(); */\r\n\r\n    const [open, setIsOpen] = useState(false);\r\n    const [regOk, setRegOK] = useState(false)\r\n\r\n    function closeModal() {\r\n        setIsOpen(false)\r\n        setRegOK(false)\r\n        \r\n        setEmail('')\r\n        setPassword('')\r\n\r\n    }\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    function handleChangeEmail(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handleChangePassword(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n\r\n        auth.register(password, email)\r\n\r\n            .then((res) => {\r\n                if(res.ok) {\r\n                    setIsOpen(true)\r\n                    setRegOK(true)\r\n                    setTimeout(()=>{\r\n                        setIsOpen(false)}, 2000)\r\n                }else{\r\n                    setIsOpen(true)\r\n                    setRegOK(false)\r\n                    setTimeout(()=>{\r\n                        setIsOpen(false)}, 2000)\r\n                }\r\n                \r\n            })\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Header to='/sign-in' loggedIn={loggedIn} login={login} placeholder='Вход'></Header>\r\n            <section className='auth'>\r\n                <h2 className='auth__header'>Регистрация</h2>\r\n                <form className='auth__form' onSubmit={handleSubmit}>\r\n                    <input className='auth__input' type='text' placeholder='E-mail' value={email} onChange={handleChangeEmail}></input>\r\n                    <input className='auth__input' type='password' placeholder='Пароль' value={password} onChange={handleChangePassword}></input>\r\n                    <button className='auth__submit'>Зарегистрироваться</button>\r\n                    <NavLink to=\"/sign-in\" className=\"auth__link\">Уже зарегистрированы? Войти</NavLink>\r\n                </form>\r\n            </section>\r\n            <InfoToolTip confirmReg={regOk} isOpen={open} onClose={closeModal} />\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default withRouter(Register);","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport const ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n            {() =>\r\n                props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n            }\r\n        </Route>\r\n    );\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { Route, Switch, useHistory, withRouter, Redirect } from 'react-router-dom';\r\nimport * as auth from './Auth';\r\nimport '../index.css';\r\n\r\nimport { Main } from './Main';\r\nimport { Footer } from './Footer';\r\nimport { PopupEditProfile } from './PopupEditProfile';\r\nimport { PopupEditAvatar } from './PopupEditAvatar';\r\nimport { PopupAddPlace } from './PopupAddPlace';\r\nimport { ImagePopup } from './ImagePopup';\r\nimport { newApi } from '../utils/Api.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport { ProtectedRoute } from './ProtectedRoute';\r\n\r\n\r\nfunction App() {\r\n\r\n  const history = useHistory();\r\n\r\n  const [cards, setCards] = useState([])\r\n  const [currentUser, setCurrentUser] = useState({});\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\r\n  const [selectedCard, setSelectedCard] = useState({})\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    Promise.all([newApi.getUSerInfoFromServer(), newApi.getCardsFromServer()])\r\n      .then(([user, cards]) => {\r\n        setCurrentUser(user)\r\n        setCards(cards)\r\n\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const jwt = localStorage.getItem('token')\r\n    if (jwt) {\r\n      auth.getContent(jwt)\r\n        .then(res => {\r\n          if (res) {\r\n            setLogin(res.data.email)\r\n            handleLogin()\r\n            history.push('/')\r\n          }\r\n        })\r\n    }\r\n  }, [history])\r\n\r\n  function signOut() {\r\n    localStorage.removeItem('token')\r\n    setLoggedIn(false)\r\n    history.push('/sign-in')\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true)\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true)\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard({});\r\n\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(like => like._id === currentUser._id)\r\n\r\n    newApi.changeLikeCardStatus(card, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    newApi.deleteCard(card)\r\n      .then(() => {\r\n        setCards(cards.filter((cardsList) => {\r\n\r\n          return cardsList._id !== card._id\r\n\r\n        }))\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleUpdateUser(user) {\r\n    newApi.setUserInfo(user)\r\n      .then((currentUser) => {\r\n        setCurrentUser(currentUser)\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleUpdateAvatar(link) {\r\n    newApi.editAvatar(link)\r\n      .then((currentUser) => {\r\n        setCurrentUser(currentUser)\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    newApi.postNewCard(data)\r\n      .then(res => {\r\n        setCards([res, ...cards])\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.log(err))\r\n\r\n  }\r\n\r\n  function handleLogin() {\r\n    setLoggedIn(true)\r\n  }\r\n\r\n  const [loggedIn, setLoggedIn] = useState(false)\r\n  const [login, setLogin] = useState('')\r\n\r\n  return (\r\n\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className='page'>\r\n        <Switch>\r\n\r\n\r\n          <Route path='/sign-up'>\r\n            <Register loggedIn={loggedIn} />\r\n          </Route>\r\n          <Route path='/sign-in'>\r\n            <Login handleLogin={handleLogin} />\r\n          </Route>\r\n\r\n          <ProtectedRoute\r\n            signOut={signOut}\r\n            login={login}\r\n            exact path='/'\r\n            loggedIn={loggedIn}\r\n            component={Main}\r\n            onEditProfile={handleEditProfileClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            cards={cards}\r\n          />\r\n\r\n          <Route>\r\n            {loggedIn ? (\r\n              <Redirect to=\"/\" />\r\n            ) : (\r\n              <Redirect to=\"/sign-up\" />\r\n            )}\r\n          </Route>\r\n\r\n        </Switch>\r\n        <PopupEditProfile isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n        <PopupAddPlace isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\r\n        <PopupEditAvatar isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n        <ImagePopup onClose={closeAllPopups} card={selectedCard} />\r\n        <Footer />\r\n      </div>\r\n    </CurrentUserContext.Provider >\r\n  )\r\n}\r\n\r\nexport default withRouter(App);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}