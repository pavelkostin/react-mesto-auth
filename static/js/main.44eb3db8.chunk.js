(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{16:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(18),o=n.n(s),i=(n(16),n(23)),r=n(3),A=n(2),l="https://auth.nomoreparties.co";function f(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}var u=c.a.createContext(),h=n(0);function j(e){var t=e.card,n=e.onCardClick,c=e.onCardLike,s=e.onCardDelete,o=Object(a.useContext)(u),i=t.owner._id===o._id,r=" ".concat(i?"cards__delete":"cards__delete_hidden"),A=t.likes.some((function(e){return e._id===o._id})),l="cards__like ".concat(A?"cards__like_active":"");return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("li",{className:"cards__item",children:[Object(h.jsx)("img",{className:"cards__photo",onClick:function(){n(t)},src:t.link,alt:t.name}),Object(h.jsx)("p",{className:"cards__place",children:t.name}),Object(h.jsx)("button",{className:r,onClick:function(){s(t)}}),Object(h.jsx)("button",{className:l,onClick:function(){c(t)}}),Object(h.jsx)("p",{className:"cards__quantity-likes",children:t.likes.length})]})})}var p=n(8),d=n.p+"static/media/header-logo.03b78ada.svg";function b(e){var t=e.signOut,n=e.to,a=e.placeholder,c=e.login;return Object(h.jsxs)("header",{className:"header",children:[Object(h.jsx)("img",{className:"header__logo",src:d,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u041c\u0435\u0441\u0442\u043e"}),Object(h.jsxs)("div",{className:"header__login",children:[Object(h.jsx)("div",{className:"header__email",children:c}),Object(h.jsx)(p.b,{to:n,className:"header__link",onClick:t,children:a})]})]})}function v(e){var t=e.signOut,n=e.loggedIn,c=e.login,s=e.cards,o=e.onEditAvatar,i=e.onEditProfile,r=e.onAddPlace,A=e.onCardClick,l=e.onCardLike,f=e.onCardDelete,p=Object(a.useContext)(u);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b,{to:"/sign-in",loggedIn:n,login:c,placeholder:"\u0412\u044b\u0439\u0442\u0438",signOut:t}),Object(h.jsxs)("main",{children:[Object(h.jsxs)("section",{className:"profile",children:[Object(h.jsxs)("div",{className:"profile__info",children:[Object(h.jsx)("img",{className:"profile__avatar",src:p.avatar,alt:p.name,onClick:o}),Object(h.jsxs)("div",{className:"profile__table",children:[Object(h.jsx)("div",{className:"profile__name",children:p.name}),Object(h.jsx)("button",{className:"profile__edit",onClick:i,type:"button"}),Object(h.jsx)("div",{className:"profile__job",children:p.about})]})]}),Object(h.jsx)("button",{className:"profile__add",onClick:r,type:"button"})]}),Object(h.jsx)("section",{className:"cards",children:Object(h.jsx)("ul",{className:"cards__list",children:s.map((function(e){return Object(h.jsx)(j,{onCardLike:l,onCardClick:A,onCardDelete:f,card:e},e._id)}))})})]})]})}function x(){return Object(h.jsx)("footer",{className:"footer",children:Object(h.jsx)("p",{className:"footer__caption",children:"\xa9 2021 Mesto Russia"})})}function m(e){var t=e.value,n=e.className,a=e.placeholder,c=e.type,s=e.name,o=e.id,i=e.onChange,r=e.inputRef;return Object(h.jsx)("section",{className:"popup__section",children:Object(h.jsx)("input",{defaultValue:t||"",className:n,placeholder:a,type:c,name:s,id:o,onChange:i,ref:r})})}function O(e){var t=e.classText,n=e.isOpen,a=e.onClose,c=e.header,s=e.name,o=e.children,i=e.submitBtnText,r=e.onSubmit;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("section",{className:"popup popup_".concat(t," ").concat(n&&"popup_visible"),children:Object(h.jsxs)("div",{className:"popup__container",children:[Object(h.jsx)("button",{onClick:a,className:"popup__close"}),Object(h.jsx)("h2",{className:"popup__header",children:c}),Object(h.jsxs)("form",{className:"popup__form",name:s,onSubmit:r,children:[o,Object(h.jsx)("button",{className:"popup__submit",type:"submit",children:i})]})]})})})}function g(e){var t=e.onUpdateUser,n=e.onClose,s=e.isOpen,o=Object(a.useState)(""),i=Object(r.a)(o,2),A=i[0],l=i[1],f=Object(a.useState)(""),j=Object(r.a)(f,2),p=j[0],d=j[1],b=c.a.useContext(u);return c.a.useEffect((function(){l(b.name),d(b.about)}),[b,s]),Object(h.jsxs)(O,{onClose:n,isOpen:s,classText:"edit-profile",name:"editProfileForm",header:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",submitBtnText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onSubmit:function(e){e.preventDefault(),t({name:A,about:p})},children:[Object(h.jsx)(m,{value:A,className:"popup__input popup__input_name",placeholder:"\u0418\u043c\u044f",type:"text",name:"bio",id:"bio",onChange:function(e){l(e.target.value)}}),Object(h.jsx)(m,{value:p,className:"popup__input popup__input_job",placeholder:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f",type:"text",name:"job",id:"job",onChange:function(e){d(e.target.value)}})]})}function P(e){var t=e.onClose,n=e.isOpen,c=e.onUpdateAvatar,s=Object(a.useRef)();return Object(h.jsx)(O,{onClose:t,isOpen:n,classText:"avatar",name:"editAvatar",header:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",submitBtnText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onSubmit:function(e){e.preventDefault(),c({avatar:s.current.value})},children:Object(h.jsx)(m,{className:"popup__input  popup__input_avatar popup__input_place",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043d\u043e\u0432\u044b\u0439 \u0430\u0432\u0430\u0442\u0430\u0440",type:"url",name:"avatar",id:"avatar",inputRef:s})})}function C(e){var t=e.onClose,n=e.isOpen,c=e.onAddPlace,s=Object(a.useRef)(),o=Object(a.useRef)();return Object(h.jsxs)(O,{onClose:t,isOpen:n,classText:"add-card",name:"addCardForm",header:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",submitBtnText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",onSubmit:function(e){e.preventDefault(),c({name:s.current.value,link:o.current.value})},children:[Object(h.jsx)(m,{className:"popup__input popup__input_add popup__input_place",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",type:"text",name:"place",id:"place",inputRef:s}),Object(h.jsx)(m,{className:"popup__input popup__input_add popup__input_link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",type:"url",name:"url",id:"url",inputRef:o})]})}function B(e){var t=e.card,n=e.onClose;return Object(h.jsx)("section",{className:"popup popup_gallery ".concat(t.link?"popup_visible":""),children:Object(h.jsxs)("div",{className:"popup__container popup__container_gallery",children:[Object(h.jsx)("button",{onClick:n,className:"popup__close"}),Object(h.jsx)("img",{className:"popup__image",src:t.link,alt:t.name}),Object(h.jsx)("p",{className:"popup__caption",children:t.name})]})})}var N=n(21),w=n(22),E=new(function(){function e(t){Object(N.a)(this,e),this._url=t.url,this._headers=t.headers}return Object(w.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}},{key:"getCardsFromServer",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"getUSerInfoFromServer",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"setUserInfo",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._checkResponse)}},{key:"postNewCard",value:function(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._checkResponse)}},{key:"getCardInfo",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e._cardId),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e._id),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"changeLikeCardStatus",value:function(e,t){return fetch("".concat(this._url,"/cards/likes/").concat(e._id),{method:t?"PUT":"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"editAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}}]),e}())({url:"https://nomoreparties.co/v1/cohort-22",headers:{authorization:"1ee4b4ce-cc80-4da8-ae23-ade464e5dd65","Content-Type":"application/json"}});var H=Object(A.h)((function(e){var t=e.handleLogin,n=e.loggedIn,c=e.login,s=Object(A.g)(),o=Object(a.useState)(""),i=Object(r.a)(o,2),u=i[0],j=i[1],p=Object(a.useState)(""),d=Object(r.a)(p,2),v=d[0],x=d[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b,{to:"/sign-up",loggedIn:n,login:c,placeholder:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(h.jsxs)("section",{className:"auth",children:[Object(h.jsx)("h2",{className:"auth__header",children:"\u0412\u0445\u043e\u0434"}),Object(h.jsxs)("form",{className:"auth__form",onSubmit:function(e){e.preventDefault(),function(e,t){return fetch("".concat(l,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})}).then(f)}(v,u).then((function(e){e.token&&localStorage.setItem("token",e.token)})).then((function(){t(),s.push("/")}))},children:[Object(h.jsx)("input",{name:"e-mail",className:"auth__input",placeholder:"E-mail",value:u,onChange:function(e){j(e.target.value)}}),Object(h.jsx)("input",{name:"password",className:"auth__input",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:v,onChange:function(e){x(e.target.value)}}),Object(h.jsx)("button",{className:"auth__submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})})),_=n.p+"static/media/unsucces.ba3097ce.jpg";function F(e){var t=e.confirmReg,n=e.onClose,a=e.isOpen;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("section",{className:"popup ".concat(a?"popup_visible":""),children:Object(h.jsxs)("div",{className:"popup__container",children:[Object(h.jsx)("button",{className:"popup__close",onClick:n}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(h.jsx)("img",{className:"auth__img",alt:"auth__img",src:t?"data:image/jpeg;base64,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":_}),Object(h.jsx)("h2",{className:"popup__header popup__header_tooltip",children:t?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."})]})]})})})}var Q=Object(A.h)((function(e){var t=e.loggedIn,n=e.login,c=Object(a.useState)(!1),s=Object(r.a)(c,2),o=s[0],i=s[1],A=Object(a.useState)(!1),f=Object(r.a)(A,2),u=f[0],j=f[1],d=Object(a.useState)(""),v=Object(r.a)(d,2),x=v[0],m=v[1],O=Object(a.useState)(""),g=Object(r.a)(O,2),P=g[0],C=g[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b,{to:"/sign-in",loggedIn:t,login:n,placeholder:"\u0412\u0445\u043e\u0434"}),Object(h.jsxs)("section",{className:"auth",children:[Object(h.jsx)("h2",{className:"auth__header",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(h.jsxs)("form",{className:"auth__form",onSubmit:function(e){e.preventDefault(),function(e,t){return fetch("".concat(l,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})})}(P,x).then((function(e){e.ok?(i(!0),j(!0),setTimeout((function(){i(!1)}),2e3)):(i(!0),j(!1),setTimeout((function(){i(!1)}),2e3))}))},children:[Object(h.jsx)("input",{className:"auth__input",type:"text",placeholder:"E-mail",value:x,onChange:function(e){m(e.target.value)}}),Object(h.jsx)("input",{className:"auth__input",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:P,onChange:function(e){C(e.target.value)}}),Object(h.jsx)("button",{className:"auth__submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(h.jsx)(p.b,{to:"/sign-in",className:"auth__link",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"})]})]}),Object(h.jsx)(F,{confirmReg:u,isOpen:o,onClose:function(){i(!1),j(!1),m(""),C("")}})]})})),T=n(24),k=n(25),D=["component"],L=function(e){var t=e.component,n=Object(k.a)(e,D);return Object(h.jsx)(A.b,{children:function(){return n.loggedIn?Object(h.jsx)(t,Object(T.a)({},n)):Object(h.jsx)(A.a,{to:"/sign-in"})}})};var X=Object(A.h)((function(){var e=Object(A.g)(),t=Object(a.useState)([]),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)({}),j=Object(r.a)(o,2),p=j[0],d=j[1],b=Object(a.useState)(!1),m=Object(r.a)(b,2),O=m[0],N=m[1],w=Object(a.useState)(!1),_=Object(r.a)(w,2),F=_[0],T=_[1],k=Object(a.useState)(!1),D=Object(r.a)(k,2),X=D[0],J=D[1],S=Object(a.useState)({}),W=Object(r.a)(S,2),R=W[0],U=W[1];function G(){T(!1),N(!1),J(!1),U({})}function I(){Z(!0)}Object(a.useEffect)((function(){Promise.all([E.getUSerInfoFromServer(),E.getCardsFromServer()]).then((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];d(n),s(a)})).catch((function(e){return console.log(e)}))}),[]),Object(a.useEffect)((function(){var t,n=localStorage.getItem("token");n&&(t=n,fetch("".concat(l,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(f).then((function(e){return e}))).then((function(t){t&&(Y(t.data.email),I(),e.push("/"))}))}),[e]);var q=Object(a.useState)(!1),V=Object(r.a)(q,2),z=V[0],Z=V[1],y=Object(a.useState)(""),K=Object(r.a)(y,2),M=K[0],Y=K[1];return Object(h.jsx)(u.Provider,{value:p,children:Object(h.jsxs)("div",{className:"page",children:[Object(h.jsxs)(A.d,{children:[Object(h.jsx)(A.b,{path:"/sign-up",children:Object(h.jsx)(Q,{loggedIn:z})}),Object(h.jsx)(A.b,{path:"/sign-in",children:Object(h.jsx)(H,{handleLogin:I})}),Object(h.jsx)(L,{signOut:function(){localStorage.removeItem("token"),Z(!1),e.push("/sign-in")},login:M,exact:!0,path:"/",loggedIn:z,component:v,onEditProfile:function(){N(!0)},onEditAvatar:function(){T(!0)},onAddPlace:function(){J(!0)},onCardClick:function(e){U(e)},onCardLike:function(e){var t=e.likes.some((function(e){return e._id===p._id}));E.changeLikeCardStatus(e,!t).then((function(t){s((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){return console.log(e)}))},onCardDelete:function(e){E.deleteCard(e).then((function(){s(c.filter((function(t){return t._id!==e._id})))})).catch((function(e){return console.log(e)}))},cards:c}),Object(h.jsx)(A.b,{children:z?Object(h.jsx)(A.a,{to:"/"}):Object(h.jsx)(A.a,{to:"/sign-up"})})]}),Object(h.jsx)(g,{isOpen:O,onClose:G,onUpdateUser:function(e){E.setUserInfo(e).then((function(e){d(e),G()})).catch((function(e){return console.log(e)}))}}),Object(h.jsx)(C,{isOpen:X,onClose:G,onAddPlace:function(e){E.postNewCard(e).then((function(e){s([e].concat(Object(i.a)(c))),G()})).catch((function(e){return console.log(e)}))}}),Object(h.jsx)(P,{isOpen:F,onClose:G,onUpdateAvatar:function(e){E.editAvatar(e).then((function(e){d(e),G()})).catch((function(e){return console.log(e)}))}}),Object(h.jsx)(B,{onClose:G,card:R}),Object(h.jsx)(x,{})]})})})),J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),s(e),o(e)}))};o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(p.a,{children:Object(h.jsx)(X,{})})}),document.getElementById("root")),J()}},[[36,1,2]]]);
//# sourceMappingURL=main.44eb3db8.chunk.js.map