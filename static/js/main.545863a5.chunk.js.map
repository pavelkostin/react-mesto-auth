{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Input.js","components/PopupWithForm.js","components/PopupEditProfile.js","components/PopupEditAvatar.js","components/PopupAddPlace.js","components/PopupConfirm.js","components/ImagePopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","delBtnClass","isLiked","likes","some","like","likeBtnClass","onClick","link","name","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","style","backgroundImage","avatar","type","about","map","Footer","Input","value","placeholder","id","onChange","inputRef","defaultValue","ref","PopupWithForm","classText","isOpen","onClose","header","children","submitBtnText","onSubmit","PopupEditProfile","onUpdateUser","useState","setName","setAbout","useEffect","e","preventDefault","target","PopupEditAvatar","onUpdateAvatar","avatarInput","useRef","current","PopupAddPlace","nameInput","linkInput","PopupConfirm","ImagePopup","newApi","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","user","body","JSON","stringify","data","_cardId","authorization","App","setCards","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","closeAllPopups","all","getUSerInfoFromServer","getCardsFromServer","catch","err","console","log","Provider","path","to","changeLikeCardStatus","newCard","state","c","deleteCard","filter","cardsList","setUserInfo","postNewCard","editAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.545863a5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.03b78ada.svg\";","import React from \"react\";\r\nimport headerLogo from \"../images/header-logo.svg\";\r\n\r\n\r\nexport function Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={headerLogo} alt=\"логотип проекта Место\" />\r\n        </header>\r\n    );\r\n}\r\n\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n\r\n\r\n","import React, { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\n\r\nexport function Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    // deletion btn class\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const delBtnClass = (\r\n        ` ${isOwn ? 'cards__delete' : 'cards__delete_hidden'}`\r\n    );\r\n\r\n    // like btn class\r\n    const isLiked = card.likes.some(like=>like._id === currentUser._id)\r\n    const likeBtnClass = (\r\n        `cards__like ${isLiked ? 'cards__like_active' : ''}`\r\n    )\r\n\r\n    return (\r\n        <>\r\n            <li\r\n                className=\"cards__item\">\r\n                <img className=\"cards__photo\" onClick={() => { onCardClick(card) }} src={card.link} alt={card.name} />\r\n                <p className=\"cards__place\">{card.name}</p>\r\n                <button className={delBtnClass} onClick={()=>{onCardDelete(card)}}></button>\r\n                <button className={likeBtnClass} onClick={() => { onCardLike(card)}}></button>\r\n                <p className=\"cards__quantity-likes\">{card.likes.length}</p>\r\n            </li>\r\n\r\n        </>\r\n    )\r\n}","import React, { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport { Card } from './Card.js';\r\n\r\n\r\nexport function Main({ cards, onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete }) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__info\">\r\n                    <img className=\"profile__avatar\" alt={currentUser.name} style={{ backgroundImage: `url(${currentUser.avatar})` }} onClick={onEditAvatar} />\r\n                    <div className=\"profile__table\">\r\n                        <div className=\"profile__name\">{currentUser.name}</div>\r\n                        <button className=\"profile__edit\" onClick={onEditProfile} type=\"button\"></button>\r\n                        <div className=\"profile__job\">{currentUser.about}</div>\r\n                    </div>\r\n                </div>\r\n                <button className=\"profile__add\" onClick={onAddPlace} type=\"button\"></button>\r\n            </section>\r\n            <section className=\"cards\">\r\n                <ul className=\"cards__list\">\r\n                    {cards.map((card) => {\r\n                        return (\r\n                            <Card\r\n                                onCardLike={onCardLike}\r\n                                onCardClick={onCardClick}\r\n                                onCardDelete={onCardDelete}\r\n                                key={card._id}\r\n                                card={card}\r\n                            />\r\n                        )\r\n                    })}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n","import React from \"react\";\r\n\r\nexport function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__caption\">© 2021 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport function Input({ value, className, placeholder, type, name, id, onChange, inputRef }) {\r\n\r\n\r\n\r\n    return (\r\n        <section className='popup__section'>\r\n            <input\r\n                defaultValue={value || ''} //ошибка в консоли, поэтому поставил defaultValue. вроде работает\r\n                className={className}\r\n                placeholder={placeholder}\r\n                type={type}\r\n                name={name}\r\n                id={id}\r\n                onChange={onChange}\r\n                ref={inputRef}\r\n            />\r\n        </section>\r\n    )\r\n\r\n}","\r\nexport function PopupWithForm({ classText, isOpen, onClose, header, name, children, submitBtnText, onSubmit }) {\r\n    return (\r\n        <>\r\n            <section className={`popup popup_${classText} ${isOpen && 'popup_visible'}`}>\r\n                <div className=\"popup__container\">\r\n                    <button onClick={onClose} className=\"popup__close\"></button>\r\n                    <h2 className=\"popup__header\">{header}</h2>\r\n                    <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\r\n                        {children}\r\n                        <button className=\"popup__submit\" type=\"submit\">{submitBtnText}</button>\r\n                    </form>\r\n                </div>\r\n            </section>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n","import React, { useState } from 'react';\r\nimport { Input } from \"./Input\";\r\nimport { PopupWithForm } from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nexport function PopupEditProfile({ onUpdateUser, onClose, isOpen }) {\r\n\r\n    const [name, setName] = useState('')\r\n    const [about, setAbout] = useState('')\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n\r\n        \r\n        setName(currentUser.name);\r\n        setAbout(currentUser.about);\r\n    }, [currentUser, isOpen]);\r\n\r\n    function changeName(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function changeAbout(e) {\r\n        setAbout(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onUpdateUser({\r\n            name,\r\n            about\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            onClose={onClose}\r\n            isOpen={isOpen}\r\n            classText='edit-profile'\r\n            name=\"editProfileForm\"\r\n            header='Редактировать профиль'\r\n            submitBtnText='Сохранить'\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <Input\r\n                value={name}\r\n                className='popup__input popup__input_name'\r\n                placeholder='Имя'\r\n                type=\"text\"\r\n                name='name'\r\n                id='name'\r\n                onChange={changeName}\r\n            />\r\n            <Input\r\n                value={about}\r\n                className='popup__input popup__input_job'\r\n                placeholder='Профессия'\r\n                type=\"text\"\r\n                name='job'\r\n                id='job'\r\n                onChange={changeAbout}\r\n            />\r\n        </PopupWithForm>\r\n    )\r\n}","import React, {useRef} from 'react';\r\nimport { PopupWithForm } from './PopupWithForm';\r\nimport { Input } from './Input';\r\n\r\nexport function PopupEditAvatar({ onClose, isOpen, onUpdateAvatar }) {\r\n\r\n    const avatarInput = useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        onUpdateAvatar({\r\n            avatar: avatarInput.current.value\r\n        })\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            onClose={onClose}\r\n            isOpen={isOpen}\r\n            classText='avatar'\r\n            name=\"editAvatar\"\r\n            header='Обновить аватар'\r\n            submitBtnText='Сохранить'\r\n            onSubmit={handleSubmit}\r\n            >\r\n            <Input\r\n                className='popup__input  popup__input_avatar popup__input_place'\r\n                placeholder='Ссылка на новый аватар'\r\n                type=\"url\"\r\n                name='avatar'\r\n                id='avatar'\r\n                inputRef={avatarInput}\r\n            />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\n","import React, { useRef } from 'react'\r\nimport { PopupWithForm } from './PopupWithForm';\r\nimport { Input } from './Input';\r\n\r\nexport function PopupAddPlace({onClose, isOpen, onAddPlace}) {\r\n\r\n    const nameInput = useRef();\r\n    const linkInput = useRef();\r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        onAddPlace({\r\n            name: nameInput.current.value,\r\n            link: linkInput.current.value\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <PopupWithForm\r\n            onClose={onClose}\r\n            isOpen={isOpen}\r\n            classText='add-card'\r\n            name=\"addCardForm\"\r\n            header='Новое место'\r\n            submitBtnText='Создать'\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <Input\r\n                className='popup__input popup__input_add popup__input_place'\r\n                placeholder='Название'\r\n                type=\"text\"\r\n                name='name'\r\n                id='name'\r\n                inputRef={nameInput}\r\n            />\r\n            <Input\r\n                className='popup__input popup__input_add popup__input_link'\r\n                placeholder='Ссылка на картинку'\r\n                type=\"url\"\r\n                name='url'\r\n                id='url'\r\n                inputRef={linkInput}\r\n            />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* export function AddPlacePopup(props) {\r\n\r\n\r\n    return(\r\n        <>\r\n        <PopupWithForm name='place' isOpen={props.isOpen}/>\r\n        </>\r\n    )\r\n}\r\n */\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport { PopupWithForm } from \"./PopupWithForm\"\r\n\r\nexport function PopupConfirm() {\r\n    return (\r\n        <PopupWithForm\r\n\r\n            classText='confirm'\r\n            name=\"confirmDeletion\"\r\n            header='Вы уверены?'\r\n            submitBtnText='Да'\r\n        >\r\n\r\n\r\n\r\n        </PopupWithForm>\r\n\r\n\r\n    )\r\n}","import React from 'react';\r\n\r\n\r\nexport function ImagePopup ({card, onClose}) {\r\n    return (\r\n        <section\r\n        className={`popup popup_gallery ${card.link ? 'popup_visible' : ''}`}>\r\n        \r\n            <div className=\"popup__container popup__container_gallery\">\r\n                <button onClick={onClose} className=\"popup__close\"></button>\r\n                <img className=\"popup__image\" src={card.link} alt={card.name} />\r\n                <p className=\"popup__caption\">{card.name}</p>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\n","class Api {\r\n    constructor(options) {\r\n        this._url = options.url;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка ${res.status}`);\r\n    }\r\n\r\n\r\n    getCardsFromServer() {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: \"GET\",\r\n            headers: this._headers,\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n\r\n    getUSerInfoFromServer() {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: \"GET\",\r\n            headers: this._headers,\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n\r\n    setUserInfo(user) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: user.name,\r\n                about: user.about\r\n                \r\n            }),\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n    postNewCard(data) {\r\n\r\n        return fetch(`${this._url}/cards`, {\r\n            method: \"POST\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n\r\n                name: data.name,\r\n                link: data.link\r\n                \r\n            }),\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n\r\n\r\n    getCardInfo(card) {\r\n        return fetch(`${this._url}/cards/${card._cardId}`, {\r\n            method: \"GET\",\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n\r\n    deleteCard(card) {\r\n\r\n        return fetch(`${this._url}/cards/${card._id}`, {\r\n            method: \"DELETE\",\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    changeLikeCardStatus(card, isLiked) {\r\n        return fetch(`${this._url}/cards/likes/${card._id}`, {\r\n            method: (isLiked ? \"PUT\" : \"DELETE\"),\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse)\r\n\r\n    }\r\n\r\n/*     likeCard(card) {\r\n        return fetch(`${this._url}/cards/likes/${card._cardId}`, {\r\n            method: 'PUT',\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    disLikeCard(card) {\r\n        return fetch(`${this._url}/cards/likes/${card._cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse)\r\n    } */\r\n\r\n\r\n/*     getCountsOfLikes(card) {\r\n        return fetch(`${this._url}/cards/likes/${card._id}`, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse)\r\n    } */\r\n\r\n    editAvatar({avatar}) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: avatar\r\n            })\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const newApi = new Api({\r\n    url: \"https://nomoreparties.co/v1/cohort-22\",\r\n    headers: {\r\n        authorization: \"1ee4b4ce-cc80-4da8-ae23-ade464e5dd65\",\r\n        \"Content-Type\": \"application/json\",\r\n    },\r\n});\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport { NavLink, Route, Switch } from 'react-router-dom';\r\n\r\nimport '../index.css';\r\nimport { Header } from './Header';\r\nimport { Main } from './Main';\r\nimport { Footer } from './Footer';\r\nimport { PopupEditProfile } from './PopupEditProfile';\r\nimport { PopupEditAvatar } from './PopupEditAvatar';\r\nimport { PopupAddPlace } from './PopupAddPlace';\r\nimport { PopupConfirm } from './PopupConfirm';\r\nimport { ImagePopup } from './ImagePopup';\r\nimport { newApi } from '../utils/Api.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\n\r\nexport function App() {\r\n\r\n  const [cards, setCards] = useState([])\r\n  const [currentUser, setCurrentUser] = useState({});\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\r\n  const [selectedCard, setSelectedCard] = useState({})\r\n\r\n  useEffect(() => {\r\n    Promise.all([newApi.getUSerInfoFromServer(), newApi.getCardsFromServer()])\r\n      .then(([user, cards]) => {\r\n        setCurrentUser(user)\r\n        setCards(cards)\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }, [])\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true)\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true)\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(like => like._id === currentUser._id)\r\n\r\n    newApi.changeLikeCardStatus(card, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    newApi.deleteCard(card)\r\n      .then(() => {\r\n        setCards(cards.filter((cardsList) => {\r\n\r\n          return cardsList._id !== card._id\r\n\r\n        }))\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleUpdateUser(user) {\r\n    newApi.setUserInfo(user)\r\n      .then((currentUser) => {\r\n        setCurrentUser(currentUser)\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleUpdateAvatar(link) {\r\n    newApi.editAvatar(link)\r\n      .then((currentUser) => {\r\n        setCurrentUser(currentUser)\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    newApi.postNewCard(data)\r\n      .then(res => {\r\n        setCards([res, ...cards])\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.log(err))\r\n\r\n  }\r\n\r\n\r\n  return (\r\n\r\n\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n\r\n      <div className='page'>\r\n\r\n        <Route path='/sign-up'>\r\n          <Header>\r\n            <NavLink to='/sign-in' className='menu__link'>Войти</NavLink>\r\n          </Header>\r\n        </Route>\r\n\r\n        <Route path='/sign-in'>\r\n          <Header>\r\n            <NavLink to='/sign-up' className='menu__link'>Регистрация</NavLink>\r\n          </Header>\r\n        </Route>\r\n\r\n\r\n\r\n        <Switch>\r\n          <Main\r\n            onEditProfile={handleEditProfileClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            cards={cards}\r\n          />\r\n          <Footer />\r\n          <PopupEditProfile isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n          <PopupAddPlace isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\r\n          <PopupEditAvatar isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n          <ImagePopup onClose={closeAllPopups} card={selectedCard} />\r\n          <PopupConfirm />\r\n\r\n        </Switch>\r\n\r\n      </div>\r\n\r\n    </CurrentUserContext.Provider >\r\n\r\n  )\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}